
<%= render "header" %>


<% if @current_user %>

  <br>
  <% @tag_list.uniq.each_with_index do |tag,i| %>

      <%= link_to show_diary_tag_path( month: @month, year: @year, tag: tag ),     
            style: 'color:' + tag_color_helper( @colors, i ),    
	        remote: js? do %>
	    #<%= tag %>
	
      <% end %>
  <% end if @tag_list %>

  <div id="calendar">
    <div class="container" >   
      
      <% @calendar.each do |i,week| %>
        <div id="show_diary_entry<%=i%>">week <%= i%></div>  
        <div class="row"> 
          <div class="col-md-3" style="padding:0px;">     
            <%= render partial: "two_days", 
                locals: { day1: "Mon", entry1: week[1], day2: "Tue", entry2: week[2], 
                      week: i, month: @month, year: @year } %>
          </div>
          <div class="col-md-3" style="padding:0px;">
            <%= render partial: "two_days", 
                locals: { day1: "Wed", entry1: week[3], day2: "Thu", entry2: week[4], 
                       week: i, month: @month, year: @year } %>
          </div>      
          <div class="col-md-3" style="padding:0px;">
            <%= render partial: "two_days", 
                locals: { day1: "Fri", entry1: week[5], day2: "Sat", entry2: week[6], 
                       week: i, month: @month, year: @year } %>
          </div> 
          <div class="col-md-3" style="padding:0px;">
            <%= render partial: "two_days", 
                locals: { day1: "Sun", entry1: week[7], day2: nil, entry2: nil, 
                       week: i, month: @month, year: @year} %>        
          </div>  
        </div>               
	  <% end %>	
    </div>    
  </div>
<% end %>	
